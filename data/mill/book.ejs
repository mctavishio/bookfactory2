<!DOCTYPE html>
<html lang="en">
<head>
	<title>book: <%- p.id %></title>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
	<meta name="description" content="algorithm index: generative output from the book factory" />
	<meta name="author" content="kathy mctavish">
	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/manifest.json">
	<script type="application/ld+json">
		{
			"@context": "http://schema.org",
			"@type": "WebPage",
			"name": "book: <%- p.id %>",
			"breadcrumb": "book factory > book: <%- p.id %>",
          	"url": "https://www.bookfactory.work<%- p.directory %>/index.html",
			"description": "book factory > book: <%- p.id %>: generative output from the book factory",
			"datePublished": "<%- p.datetimeISOstr %>",
          	"image": "https://www.bookfactory.work/apple-touch-icon.png",
			"author": "https://mctavish.io/bio.html",
			"license": "http://creativecommons.org/licenses/by-nc-sa/3.0/us/deed.en_US"
		}
	</script>
	<script type="text/javascript">
		let book = <%-JSON.stringify(p)%>;
	</script>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-0989MECNZV"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-0989MECNZV');
	</script>
	<link rel="stylesheet" href="/css/bookfactory.css"/>
</head>
<body id="top">
<div id="subtextframe" class="frame zlowest"></div>
<div id="svgframe" class="frame zlow"><svg xmlns="http://www.w3.org/2000/svg" id="svg" class="frame"></svg></div>
<div id="wordframe" class="frame z0"></div>
<div id="contentframe" class="absolute zhighest">
<div id="mainflex">
<main id="main" class="compress" data-state="compressed">
<header>
	<h1>#<%- p.id %></h1>
	<h2>#<%- p.algorithmid %></h2>
	<p class="code timestamp" id="timestamp"><%- p.datetimeISOstr %></p>
	<!-- <p>aspect ratio: 16x9</p> -->
</header>
<nav>
<ul class="expand" >
	<!-- <li class="screenreader-text"><a href="indexscreenreader.html" id="screenreader" class="corelink">screen reader optimized text</a></li> -->
	<!-- <li><a href="#" id="soundlink" class="corelink">turn on sound</a></li> -->
	<li><a href="/index.html" class="corelink">back to algorithm index</a></li>
	<!-- <li><a href="https://www.bookfactory.work/index_algorithm-<%- p.algorithm %>.html" class="corelink">back to book index</a></li> -->
	<!-- <li><a href="https://www.mctavish.io/index.html" id="homelink" class="corelink">mctavish portfolio</a></li> -->
</ul>
</nav>

<article>
	<header>
		<h1>slides</h1>
	</header>
	<div id="slides" class="vimeowrapper16x9">
		<figure>
			<video controls=1 width="100%" loop=1 playsinline=1 muted=1 poster="https://storage.googleapis.com/bookfactory<%- p.directory %>/page001-small.png">
			    <source src="https://storage.googleapis.com/bookfactory<%- p.directory %>/book.mp4" type="video/mp4">
			    Sorry, your browser doesn't support embedded videos.
			</video>
			<figcaption>geometric abtraction sequence created by algorithm and parameter set</figcaption>
		</figure>
	</div>
	<p></p>
</article>

<article>
	<header>
		<h1>about</h1>
	</header>
	<div class="small">
		<p id="pigments">pigments ::: <%- p.pigments.join(", ") %></p>
		<p id="npages">number of pages ::: <%- p.npages %></p>
		<p id="dimensions">dimensions ::: <%- p.dimensions.name %></p>
		<p>this 1/1 printrun sequence ("book") was generated on <span class="timestamp"><%- p.datetimestr %></span> by mctavish (m).</p>
		<p>click on an image below to view larger png version</p>
		<p>click below on individual pdf file links to access a pdf version of each image</p>
		<p>note that these are vector pdf files that are completely scalable. you can convert these into raster images that are as big as you like without pixelation</p>
		<p>below you can download a zip file containing all resources</p>
		<p>below you can also view a pdf book which includes complete set of images.</p>
	</div>
</article>

<article class="card" >
	<header>
		<h1>pages / frames</h1>
		<p>(png images)</p>
		<p class="screenreader-text">
			below is a sequence of abstract, geometric drawings that are generated by a chance-infused algorithm. They are related but each are unique.
		</p>
	</header>
	<!-- <% [...Array(p.npages).keys()].forEach( (img,j) => {%>
		<span style="color:<%-p.colors[j%p.colors.length] %>"><%-j%></span>
	<% }) %> -->
	<div id="cards" class="flexcontainer">

	</div>
</article>

<article id="otherlinks">
	<header>
		<h1>other links</h1>
	</header>
	<ul class="expand">
		<li><a href="https://storage.googleapis.com/bookfactory<%- p.directory %>/book.pdf">complete pdf book (whole series of images)</a></li>
		<li><a href="https://storage.googleapis.com/bookfactory<%- p.directory %>/book.zip">zip file with all resources</a></li>
	</ul>
</article>

<article id="frames">
	<header>
		<h1>individual pdf frames</h1>
	</header>
	<ul id="pdfframes" class="compress">
	</ul>
</article>

<article>
	<header>
		<h1>raw data</h1>
	</header>
	<details>
    <summary>click to view</summary>
	<div id="rawdata" class="code">
	</div>
	</details>
</article>

<!-- <article class="" >
	<header>
		<h1>slides: pulse</h1>
	</header>
	<div id="slides" class="vimeowrapper16x9">
		<figure>
			<iframe src="https://player.vimeo.com/video/645022830?h=78ca68fb8c&autoplay=0&loop=1&autopause=0" width="640" height="360" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
			<video controls width="100%" loop=1>
			    <source src="https://storage.googleapis.com/www.blueboatfilms.com/stills/bookfactory/algorithm-1636425448_printrun-1636427957740_book/algorithm-1636425448_printrun-1636427957740_pulse.webm" type="video/webm">
			    <source src="https://storage.googleapis.com/www.blueboatfilms.com/stills/bookfactory/algorithm-1636425448_printrun-1636427957740_book/algorithm-1636425448_printrun-1636427957740_pulse.mov" type="video/mp4">
			    Sorry, your browser doesn't support embedded videos.
			</video>
		</figure>
	</div>
</article> -->

<nav>
<ul class="expand" >
	<li><a href="https://www.mctavish.io/index.html" id="homelink" class="corelink">mctavish portfolio</a></li>
</ul>
</nav>
</main>
</div>
</div>
<!-- <div id="hidetext"><a id="hidetextlink" href="#" title="hide text">-</a></div> -->
</body>
<script src="parameters.js"></script>
<script>
	window.addEventListener("load", e=> {
		let dataEl = document.querySelector("#rawdata");
		dataEl.innerText = JSON.stringify(p,null,2);
		let cardsEl = document.querySelector("#cards");
		p.drawings.forEach( (drawing,j) => {
			let divEl = document.createElement("div");
			divEl.setAttribute("class", "cardflexitem");
			let figureEl = document.createElement("figure");
			let imageEl = document.createElement("img");
			let src = "https://storage.googleapis.com/bookfactory<%- p.directory %>/page" + (j+1).toString().padStart(3, "0")+"-small.png";
			// imageEl.src = src;
			imageEl.setAttribute("src", src);
			// imageEl.setAttribute("loading", "lazy");
			imageEl.setAttribute("alt", "drawing number "+(j+1));
			figureEl.appendChild(imageEl);
			divEl.appendChild(figureEl);
			cardsEl.appendChild(divEl);
			let largesrc = "https://storage.googleapis.com/bookfactory<%- p.directory %>/page" + (j+1).toString().padStart(3, "0")+".png";
			imageEl.addEventListener("click", e => {window.open(largesrc)});
		});
		let pdfframesEl = document.querySelector("#pdfframes");
		p.drawings.forEach( (drawing,j) => {
			let liEl = document.createElement("li");
			let aEl = document.createElement("a");
			aEl.setAttribute("class", "small");
			aEl.setAttribute("href", "https://storage.googleapis.com/bookfactory<%- p.directory %>/page" + (j+1).toString().padStart(3, "0")+".pdf");
			aEl.innerText = "page:"+(j+1).toString().padStart(3, "0") + " ";
			liEl.appendChild(aEl);
			pdfframesEl.appendChild(liEl);
		});
	});
</script>
</html>
